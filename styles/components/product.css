/* ===== Product Page (detalle) =========================================== */
:is(#main_producto, .product-main){
  padding: 2rem 5vw; /* móvil: stack */
  display:flex; flex-direction:column; gap:1.5rem; width:100%;
  padding-top: clamp(7.4vh, var(--header-h), 12vh);
}

:is(#contenedor_producto_exclusivo, .product-core){
  display:flex; flex-direction:column; gap:1.5rem; width:100%;
}

.placeholder_foto.principal{
  aspect-ratio: 4/5;
  background: var(--color-border);
  border-radius: var(--radius-md);
}

/* estado de carga reutilizable */
.loading{ opacity:.7; cursor:not-allowed; position:relative; }
.loading::after{
  content:""; position:absolute; top:50%; left:50%; width:20px; height:20px;
  margin:-10px 0 0 -10px; border:2px solid #979494; border-radius:50%;
  border-top-color:transparent; animation: spin 1s linear infinite;
}
@keyframes spin{ to{ transform: rotate(360deg); } }

#mas:disabled{ background:#cacaca; cursor:not-allowed; }

/* ===== Galería auxiliar (thumbnails) =================================== */
:is(#contenedor_producto_auxiliar, .product-gallery){
  width:100%; display:flex; flex-direction:row; justify-content:center;
  gap:1rem; order:2;
}
:is(#contenedor_producto_auxiliar, .product-gallery) li{ width:60px; height:75px; }
.placeholder_foto.auxiliar{
  width:100%; height:100%; border-radius:4px; cursor:pointer;
  transition: transform var(--t-200) var(--ease);
}
.placeholder_foto.auxiliar:hover{ transform: scale(1.05); }

/* ===== Textos + precios superiores ===================================== */
:is(#textos_producto_principal, .product-info){order:1; }
#textos_superior .titulo{ font-size:1.8rem; font-weight:600; margin-bottom:.5rem; }
#textos_superior .precio{ font-size:2rem; font-weight:700; color: var(--color-dark); }
#textos_superior h5{ font-size:1rem; font-weight:400; color: var(--color-muted); margin-top:.25rem; }
#textos_superior .precio_transferencia{ font-size:1.1rem; font-weight:600; color: var(--promo-10); margin-top:.75rem; background: var(--color-bg);}

/* ===== Talles =========================================================== */
#talles .talles_titulo h3{ text-transform:uppercase; font-size:.9rem; font-weight:600; margin-bottom:.75rem; color: var(--color-muted); }
#cuarados_talles{ display:flex; flex-wrap:wrap; gap:.75rem; }
.talle{ width:50px; height:50px; border:1px solid var(--color-border); border-radius:4px; display:flex; justify-content:center; align-items:center; cursor:pointer; transition: all var(--t-200) var(--ease); }
.talle p{ font-weight:500; }
.talle:hover{ border-color: var(--color-text); background:#f0f0f0; }
.talle.selected{ background: var(--color-text); color:#fff; border-color: var(--color-text); }
.talle.seleccionado{ border:2px solid var(--color-dark); background:#fff; font-weight:700; }

#guia h4{ margin-top:1rem; font-size:.9rem; font-weight:400; text-decoration:underline; cursor:pointer; color: var(--color-muted); }

/* ===== Descripción (acordeón) ========================================== */
#descripcion{ border-top:1px solid var(--color-border); border-bottom:1px solid var(--color-border); padding:1rem 0; cursor:pointer; overflow:hidden; }
#descripcion_header{ display:flex; justify-content:space-between; align-items:center; }
#descripcion h4{ margin:0; font-size:1rem; font-weight:500; color: var(--color-text); text-transform:uppercase; }
.icono-descripcion{ transition: transform .4s var(--ease); }
#descripcion.active .icono-descripcion{ transform: rotate(45deg); }
#descripcion_contenido{ max-height:0; opacity:0; overflow:hidden; transition: max-height .5s var(--ease), opacity .3s ease-in-out, margin-top .4s ease; }
#descripcion_contenido p{ font-size:.95rem; line-height:1.6; color: var(--color-muted); }
#descripcion.active #descripcion_contenido{ max-height:200px; opacity:1; margin-top:1rem; }

/* ===== Selector de cantidad + botón carrito ============================ */
#selector_cantidad{ display:flex; flex-direction:column; gap:1rem; margin-top:1rem; }
#estructura_selector{ display:flex; align-items:center; border:1px solid var(--color-border); border-radius:4px; width:120px; height:50px; }
#estructura_selector button{ width:40px; height:100%; border:0; background:transparent; font-size:1.5rem; color:#888; cursor:pointer; }
#cantidad{ width:40px; height:100%; display:flex; align-items:center; justify-content:center; font-size:1.2rem; font-weight:500; }

#agregar-al-carrito-btn{ width:100%; height:50px; background: var(--color-dark); color:#fff; border:0; border-radius:4px; display:flex; align-items:center; justify-content:center; cursor:pointer; transition: background var(--t-200) var(--ease); }
#agregar-al-carrito-btn h2{ font-size:1rem; text-transform:uppercase; font-weight:600; }
#agregar-al-carrito-btn:hover{ background:#444; }

/* ===== Desktop ========================================================== */
@media (min-width: 768px){
  :is(#main_producto, .product-main){ flex-direction:row; align-items:flex-start; justify-content:center; gap:2vw; padding-top: 20vh; height: 90vh; }
  :is(#contenedor_producto_auxiliar, .product-gallery){ order:0; flex-direction:column; width:10%; height:100%; justify-content:flex-start; gap:1.5rem; }
  :is(#contenedor_producto_auxiliar, .product-gallery) li{ width:100%; height:auto; aspect-ratio:4/5; }
  :is(#contenedor_producto_exclusivo, .product-core){ order:1; flex-direction:row; width:80%; height:100%; gap:3vw; }
  .placeholder_foto.principal{ aspect-ratio:4/5; object-fit:cover; }
  :is(#textos_producto_principal, .product-info){ width:40%; height:100%; justify-content:center; }
  #selector_cantidad{ flex-direction:row; align-items:center; }
  #agregar_carrito{ width:auto; flex-grow:1; margin-left:1rem; }
}
/* ===== Tablet / medio intermedio (entre 768 y 992px) ===== */
@media (min-width: 768px) and (max-width: 992px) {

  /* Estructura general */
  :is(#main_producto, .product-main){
    flex-direction: column;
    align-items: center;
    padding-top: 12vh;
    gap: 2.5rem;
    height: auto;
  }

  :is(#contenedor_producto_exclusivo, .product-core){
    flex-direction: column;
    align-items: center;
    width: 90%;
    height: auto;
  }

  :is(#textos_producto_principal, .product-info){
    width: 100%;
    text-align: center;
    align-items: center;
  }

  #textos_superior .titulo{ font-size: 1.7rem; }
  #textos_superior .precio{ font-size: 1.9rem; }
  #textos_superior h5{ font-size: 1rem; }

  #talles{ display:flex; flex-direction:column; align-items:center; }
  #cuarados_talles{ justify-content:center; }

  #selector_cantidad{ flex-direction: row; justify-content:center; gap:1rem; }
  #agregar-al-carrito-btn{ width:auto; margin-left: 1rem; }

  /* ===== Galería auxiliar ===== */
  :is(#contenedor_producto_auxiliar, .product-gallery){
    order: 0;
    flex-direction: row;
    justify-content: center;
    width: 100%;
    gap: 1rem;
  }
  :is(#contenedor_producto_auxiliar, .product-gallery) li{
    width: 70px;
    height: 90px;
  }

  /* ===== Carrusel de recomendados (corregido) ===== */
  .carrusel {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: 1rem;
    overflow: visible;
    padding: 0 2vw;
    width: 100%;
    justify-items: center;
  }

  .carrusel .slide,
  .carrusel .producto-card {
    min-width: unset;
    flex: none;
    width: 100%;
    max-width: 220px;
  }

  /* Evita overflow lateral y glitch visual */
  body, html {
    overflow-x: hidden;
  }
}
/* ===== Políticas (acordeón igual al de descripción) =================== */
#politicas {
  border-bottom: 1px solid var(--color-border);
  padding: 1rem 0;
  cursor: pointer;
  overflow: hidden;
}

#politicas_header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

#politicas h4 {
  margin: 0;
  font-size: 1rem;
  font-weight: 500;
  text-transform: uppercase;
  color: var(--color-text);
}

.icono-politicas {
  transition: transform .4s var(--ease);
}

#politicas.active .icono-politicas {
  transform: rotate(45deg);
}

#politicas_contenido {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height .5s var(--ease), opacity .3s ease-in-out, margin-top .4s ease;
}

#politicas.active #politicas_contenido {
  max-height: 300px;
  opacity: 1;
  margin-top: 1rem;
}

#politicas_contenido p {
  font-size: .95rem;
  line-height: 1.6;
  color: var(--color-muted);
}
#descripcion_contenido{
    font-size: .95rem;
  line-height: 1.6;
  color: var(--color-muted);
}

/* ===== Comentarios editoriales (1 o 2 reseñas) ===== */
#comentario_editorial {
  margin-top: 1rem;
  margin-bottom: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  max-width: 90%;
}

.product-quote {
  font-size: .95rem;
  font-weight: 400;
  line-height: 1.5;
  color: var(--color-muted);
  font-style: italic;
  opacity: .9;
}

/* Opcional: una leve variación entre reseñas */
#comentario_editorial .product-quote:nth-child(2) {
  opacity: .8;
  font-size: .9rem;
}

#comentario_editorial {
  border-left: 3px solid var(--color-border);
  padding-left: 1rem;
}
/* =========================================================
   PRODUCT — VISUAL ALIGN (SAFE OVERRIDE)
   NO rompe layout / NO rompe JS
   ========================================================= */

/* --------- imagen principal -------------------------------- */
.placeholder_foto.principal{
  background: #fff;
  border-radius: 0;
}

/* --------- thumbs ------------------------------------------ */
.placeholder_foto.auxiliar{
  border: 1px solid var(--color-border);
  border-radius: 0;
}
.placeholder_foto.auxiliar:hover{
  border-color: var(--color-dark);
  transform: scale(1.04);
}

/* --------- títulos y precios ------------------------------- */
#textos_superior .titulo{
  font-weight: 700;
  letter-spacing: -.01em;
}

#textos_superior .precio{
  letter-spacing: .03em;
}

#textos_superior h5{
  letter-spacing: .08em;
  text-transform: uppercase;
  font-size: .95rem;
}

/* transferencia como bloque técnico */
#textos_superior .precio_transferencia{
  display: inline-block;
  padding: .45em .7em;
  border: 1px solid var(--color-dark);
  color: var(--color-dark);
  font-size: .95rem;
}

/* --------- talles ------------------------------------------ */
.talle{
  border-radius: 0;
  font-weight: 600;
}
.talle:hover{
  background: #fff;
}
.talle.selected{
  background: var(--color-dark);
  color: #fff;
}

/* --------- acordeones -------------------------------------- */
#descripcion,
#politicas{
  border-color: var(--color-dark);
}

#descripcion h4,
#politicas h4{
  letter-spacing: .12em;
  font-weight: 600;
}

/* --------- selector cantidad ------------------------------- */
#estructura_selector{
  border-radius: 0;
  border-color: var(--color-dark);
  z-index: 50;
  background-color: var(--color-bg);
}
#estructura_selector button{
  color: var(--color-dark);
}
#estructura_selector button:hover{
  background: var(--color-dark);
  color: #fff;
}

/* --------- CTA --------------------------------------------- */
#agregar-al-carrito-btn{
  border-radius: 0;
  letter-spacing: .18em;
}
#agregar-al-carrito-btn:hover{
  background: #000;
}

/* --------- comentario editorial ---------------------------- */
#comentario_editorial{
  border-left: 3px solid var(--color-dark);
}
.product-quote{
  font-style: normal;
}
/* =========================================================
   PRODUCT — FORCE GLOBAL TYPE SYSTEM
   ========================================================= */

/* TODO el bloque de información del producto */
#textos_producto_principal,
#textos_producto_principal *,

/* títulos */
#textos_superior .titulo,
#textos_superior .precio,
#textos_superior h5,

/* talles */
#talles,
#talles *,

/* acordeones */
#descripcion,
#descripcion *,
#politicas,
#politicas *,

/* guía y comentarios */
#guia,
#guia *,
#comentario_editorial,
#comentario_editorial *{

  font-family: var(--font-mono) !important;
}
